let pokemonRepository=function(){let e=[];function t(t){"object"==typeof t&&"name"in t&&"detailsUrl"in t?e.push(t):console.log("pokemon is not correct")}function n(){return e}function o(e){i(e).then(function(){showModal(e)})}function i(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.weight=t.weight,e.types=t.types.map(e=>e.type.name).join(","),e.abilities=t.abilities.map(e=>e.ability.name).join(",")}).catch(function(e){console.error(e)})}return document.querySelector("#pokedex-search"),{add:t,getAll:n,addListItem:function e(t){let n=document.querySelector(".list-group-horizontal"),i=document.createElement("li");n.classList.add("group-list-item"),n.classList.add("col-sm-4","col-md-6","col-lg-12");let a=document.createElement("button");a.classList.add("pokemonButton"),a.innerText=t.name,a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#pokemon-modal"),$(a).addClass("button-class btn-block btn m1"),i.appendChild(a),n.appendChild(i),a.addEventListener("click",function(){o(t)})},loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){t({name:e.name.charAt(0).toUpperCase()+e.name.slice(1),detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:i,showDetails:o}}();function showModal(e){let t=$(".modal-body"),n=$(".modal-title");n.empty(),t.empty();let o=$("<h1>"+e.name+"</h1>"),i=$('<img class="pokemon-img" style="width:50%">');i.attr("src",e.imageUrl);let a=$("<p>Height : "+e.height+"</p>"),l=$("<p>Weight : "+e.weight+"</p>"),s=$("<p>Types : "+e.types+"</p>"),p=$("<p>Abilities : "+e.abilities+"</p>");n.append(o),t.append(i),t.append(a),t.append(l),t.append(s),t.append(p)}function hideModal(){modalContainer.classList.remove("is-visible")}pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})}),window.addEventListener("keydown",e=>{"Escape"===e.key&&modalContainer.classList.contains("show-modal")&&hideModal()}),searchField.addEventListener("input",function(){document.querySelectorAll(".pokemonButton");let e=searchField.value.toUpperCase();pokeList.forEach(function(t){console.log(t.innerText),t.innerText.toUpperCase().indexOf(e)>-1?t.style.display="":t.style.display="none"})});
